{% extends 'admin.html.twig' %}

{% block title %}Edit Cours{% endblock %}
{# stylesheets #}
{% block stylesheets %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
{{ parent() }}
{% endblock %}

{% block body %}
    {# cours index #}
    {# buttons #}
    <div class="col m-3 d-flex">
        <a href="{{ path('cours_index') }}" class="btn btn-warning d-block">Menu des Cours</a>
        {{ include('admin/cours/_delete_form.html.twig') }}
    </div>
    {# title #}
    <h1 class="text-centered mt-5 mb-4">Modifier un Cours</h1>

    {{ include('admin/cours/_form.html.twig', {'button_label': 'Update'}) }}

    {# lessons index #}
    <div class="container">
        <h1 class="text-centered mt-5 mb-4">Leçons associées</h1>
        {# pagination #}
        <div clss="d-flex justify-content-center mt-4">{{ knp_pagination_render(lessons) }}</div>

        <table class="table">
            <thead>
                <tr>
                    <th></th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
            {% for lesson in lessons %}
                <tr>
                    <td>{{ lesson.title }}</td>
                    <td>{{ lesson.content[0:50]|raw  }}</td>
                    <td>
                        <a href="{{ path('lesson_show', {'id': lesson.id}) }}" class="btn btn-secondary">show</a>
                        <a href="{{ path('lesson_edit', {'id': lesson.id}) }}" class="btn btn-warning">edit</a>
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="7">no records found</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
        {# pagination #}
        <div class="d-flex justify-content-center mt-4">{{ knp_pagination_render(lessons) }}</div>
    </div>
{% endblock %}
